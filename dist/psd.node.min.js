!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PSD=t()}}(function(){return function t(e,r,i){function n(s,a){if(!r[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return n(r||t)},l,l.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("coffeescript-module").Module,e.exports=function(t){function e(t){this.file=t,this.blendKey=null,this.opacity=null,this.clipping=null,this.clipped=null,this.flags=null,this.mode=null,this.visible=null}var r;return n(e,t),e.aliasProperty("blendingMode","mode"),r={norm:"normal",dark:"darken",lite:"lighten",hue:"hue",sat:"saturation",colr:"color",lum:"luminosity",mul:"multiply",scrn:"screen",diss:"dissolve",over:"overlay",hLit:"hard_light",sLit:"soft_light",diff:"difference",smud:"exclusion",div:"color_dodge",idiv:"color_burn",lbrn:"linear_burn",lddg:"linear_dodge",vLit:"vivid_light",lLit:"linear_light",pLit:"pin_light",hMix:"hard_mix",pass:"passthru",dkCl:"darker_color",lgCl:"lighter_color",fsub:"subtract",fdiv:"divide"},e.prototype.parse=function(){return this.file.seek(4,!0),this.blendKey=this.file.readString(4).trim(),this.opacity=this.file.readByte(),this.clipping=this.file.readByte(),this.flags=this.file.readByte(),this.mode=r[this.blendKey],this.clipped=1===this.clipping,this.visible=!((2&this.flags)>0),this.file.seek(1,!0)},e.prototype.opacityPercentage=function(){return 100*this.opacity/255},e}(i)},{"coffeescript-module":void 0}],2:[function(t,e,r){var i,n,o,s=function(t,e){function r(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("lodash"),i=t("./image.coffee"),n=t("./image_format.coffee"),e.exports=function(t){function e(t,r,i){this.layer=i,this._width=this.layer.width,this._height=this.layer.height,e.__super__.constructor.call(this,t,r),this.channelsInfo=this.layer.channelsInfo,this.hasMask=o.any(this.channelsInfo,function(t){return t.id<-1}),this.opacity=this.layer.opacity/255}return s(e,t),e.includes(n.LayerRAW),e.includes(n.LayerRLE),e.prototype.skip=function(){var t,e,r,i,n;for(i=this.channelsInfo,n=[],e=0,r=i.length;e<r;e++)t=i[e],n.push(this.file.seek(t.length,!0));return n},e.prototype.width=function(){return this._width},e.prototype.height=function(){return this._height},e.prototype.channels=function(){return this.layer.channels},e.prototype.parse=function(){var t,e,r,i,n;for(this.chanPos=0,i=this.channelsInfo,e=0,r=i.length;e<r;e++)t=i[e],t.length<=0?this.parseCompression():(this.chan=t,t.id<-1?(this._width=this.layer.mask.width,this._height=this.layer.mask.height):(this._width=this.layer.width,this._height=this.layer.height),this.length=this._width*this._height,n=this.file.tell(),this.parseImageData(),this.file.tell()!==n+this.chan.length&&this.file.seek(n+this.chan.length));return this._width=this.layer.width,this._height=this.layer.height,this.processImageData()},e.prototype.parseImageData=function(){switch(this.compression=this.parseCompression(),this.compression){case 0:return this.parseRaw();case 1:return this.parseRLE();case 2:case 3:return this.parseZip();default:return this.file.seek(this.endPos)}},e}(i)},{"./image.coffee":7,"./image_format.coffee":10,lodash:void 0}],3:[function(t,e,r){var i;i=t("./util.coffee"),e.exports={cmykToRgb:function(t,e,r,n){var o,s,a;return a=i.clamp(65535-(t*(255-n)+(n<<8))>>8,0,255),s=i.clamp(65535-(e*(255-n)+(n<<8))>>8,0,255),o=i.clamp(65535-(r*(255-n)+(n<<8))>>8,0,255),[a,s,o]}}},{"./util.coffee":67}],4:[function(t,e,r){e.exports=function(){function t(t){this.file=t,this.data={}}return t.prototype.parse=function(){var t,e,r,i,n,o;for(this.data.class=this.parseClass(),r=this.file.readInt(),e=0,i=r;0<=i?e<i:e>i;0<=i?++e:--e)n=this.parseKeyItem(),t=n[0],o=n[1],this.data[t]=o;return this.data},t.prototype.parseClass=function(){return{name:this.file.readUnicodeString(),id:this.parseId()}},t.prototype.parseId=function(){var t;return t=this.file.readInt(),0===t?this.file.readString(4):this.file.readString(t)},t.prototype.parseKeyItem=function(){var t,e;return t=this.parseId(),e=this.parseItem(),[t,e]},t.prototype.parseItem=function(e){switch(null==e&&(e=null),null==e&&(e=this.file.readString(4)),e){case"bool":return this.parseBoolean();case"type":case"GlbC":return this.parseClass();case"Objc":case"GlbO":return new t(this.file).parse();case"doub":return this.parseDouble();case"enum":return this.parseEnum();case"alis":return this.parseAlias();case"Pth":return this.parseFilePath();case"long":return this.parseInteger();case"comp":return this.parseLargeInteger();case"VlLs":return this.parseList();case"ObAr":return this.parseObjectArray();case"tdta":return this.parseRawData();case"obj ":return this.parseReference();case"TEXT":return this.file.readUnicodeString();case"UntF":return this.parseUnitDouble();case"UnFl":return this.parseUnitFloat()}},t.prototype.parseBoolean=function(){return this.file.readBoolean()},t.prototype.parseDouble=function(){return this.file.readDouble()},t.prototype.parseInteger=function(){return this.file.readInt()},t.prototype.parseLargeInteger=function(){return this.file.readLongLong()},t.prototype.parseIdentifier=function(){return this.file.readInt()},t.prototype.parseIndex=function(){return this.file.readInt()},t.prototype.parseOffset=function(){return this.file.readInt()},t.prototype.parseProperty=function(){return{class:this.parseClass(),id:this.parseId()}},t.prototype.parseEnum=function(){return{type:this.parseId(),value:this.parseId()}},t.prototype.parseEnumReference=function(){return{class:this.parseClass(),type:this.parseId(),value:this.parseId()}},t.prototype.parseAlias=function(){var t;return t=this.file.readInt(),this.file.readString(t)},t.prototype.parseFilePath=function(){var t,e,r;return this.file.readInt(),r=this.file.readString(4),this.file.read("<i"),t=this.file.read("<i"),e=this.file.readUnicodeString(t),{sig:r,path:e}},t.prototype.parseList=function(){var t,e,r,i;for(t=this.file.readInt(),e=[],r=0,i=t;0<=i?r<i:r>i;0<=i?++r:--r)e.push(this.parseItem());return e},t.prototype.parseObjectArray=function(){throw"Descriptor object array not implemented yet @ "+this.file.tell()},t.prototype.parseRawData=function(){var t;return t=this.file.readInt(),this.file.read(t)},t.prototype.parseReference=function(){var t,e,r,i,n,o;for(r=this.file.readInt(),t=[],e=0,i=r;0<=i?e<i:e>i;0<=i?++e:--e)n=this.file.readString(4),o=function(){switch(n){case"prop":return this.parseProperty();case"Clss":return this.parseClass();case"Enmr":return this.parseEnumReference();case"Idnt":return this.parseIdentifier();case"indx":return this.parseIndex();case"name":return this.file.readUnicodeString();case"rele":return this.parseOffset()}}.call(this),t.push({type:n,value:o});return t},t.prototype.parseUnitDouble=function(){var t,e,r;return e=this.file.readString(4),t=function(){switch(e){case"#Ang":return"Angle";case"#Rsl":return"Density";case"#Rlt":return"Distance";case"#Nne":return"None";case"#Prc":return"Percent";case"#Pxl":return"Pixels";case"#Mlm":return"Millimeters";case"#Pnt":return"Points"}}(),r=this.file.readDouble(),{id:e,unit:t,value:r}},t.prototype.parseUnitFloat=function(){var t,e,r;return e=this.file.readString(4),t=function(){switch(e){case"#Ang":return"Angle";case"#Rsl":return"Density";case"#Rlt":return"Distance";case"#Nne":return"None";case"#Prc":return"Percent";case"#Pxl":return"Pixels";case"#Mlm":return"Millimeters";case"#Pnt":return"Points"}}(),r=this.file.readFloat(),{id:e,unit:t,value:r}},t}()},{}],5:[function(t,e,r){(function(r){var i,n,o={}.hasOwnProperty;n=t("jspack").jspack,i=t("iconv-lite"),t("./color.coffee"),t("./util.coffee"),e.exports=function(){function t(t){this.data=t}var e,s,a,h;e={Int:{code:">i",length:4},UInt:{code:">I",length:4},Short:{code:">h",length:2},UShort:{code:">H",length:2},Float:{code:">f",length:4},Double:{code:">d",length:8},LongLong:{code:">q",length:8}},s=function(e,r){return t.prototype["read"+e]=function(){return this.readf(r.code,r.length)[0]}};for(a in e)o.call(e,a)&&(h=e[a],s(a,h));return t.prototype.pos=0,t.prototype.tell=function(){return this.pos},t.prototype.read=function(t){var e,r,i;for(i=[],e=0,r=t;0<=r?e<r:e>r;0<=r?++e:--e)i.push(this.data[this.pos++]);return i},t.prototype.readf=function(t,e){return null==e&&(e=null),n.Unpack(t,this.read(e||n.CalcLength(t)))},t.prototype.seek=function(t,e){return null==e&&(e=!1),e?this.pos+=t:this.pos=t},t.prototype.readString=function(t){return String.fromCharCode.apply(null,this.read(t)).replace(/\u0000/g,"")},t.prototype.readUnicodeString=function(t){return null==t&&(t=null),t||(t=this.readInt()),i.decode(new r(this.read(2*t)),"utf-16be").replace(/\u0000/g,"")},t.prototype.readByte=function(){return this.read(1)[0]},t.prototype.readBoolean=function(){return 0!==this.readByte()},t.prototype.readSpaceColor=function(){var t,e,r;for(e=this.readShort(),r=0;r<4;++r)t=this.readShort()>>8;return{colorSpace:e,components:t}},t.prototype.readPathNumber=function(){var t,e,r,i,n,o;return t=this.readByte(),e=this.read(3),i=e[0]<<16,n=e[1]<<8,o=e[2],r=i|n|o,parseFloat(t,10)+parseFloat(r/Math.pow(2,24),10)},t}()}).call(this,t("buffer").Buffer)},{"./color.coffee":3,"./util.coffee":67,buffer:void 0,"iconv-lite":void 0,jspack:void 0}],6:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("coffeescript-module").Module,e.exports=function(t){function e(t){this.file=t}var r;return n(e,t),e.aliasProperty("height","rows"),e.aliasProperty("width","cols"),r=["Bitmap","GrayScale","IndexedColor","RGBColor","CMYKColor","HSLColor","HSBColor","Multichannel","Duotone","LabColor","Gray16","RGB48","Lab48","CMYK64","DeepMultichannel","Duotone16"],e.prototype.sig=null,e.prototype.version=null,e.prototype.channels=null,e.prototype.rows=null,e.prototype.cols=null,e.prototype.depth=null,e.prototype.mode=null,e.prototype.parse=function(){var t;if(this.sig=this.file.readString(4),"8BPS"!==this.sig)throw new Error("Invalid file signature detected. Got: "+this.sig+". Expected 8BPS.");return this.version=this.file.readUShort(),this.file.seek(6,!0),this.channels=this.file.readUShort(),this.rows=this.height=this.file.readUInt(),this.cols=this.width=this.file.readUInt(),this.depth=this.file.readUShort(),this.mode=this.file.readUShort(),t=this.file.readUInt(),this.file.seek(t,!0)},e.prototype.modeName=function(){return r[this.mode]},e.prototype.export=function(){var t,e,r,i,n;for(t={},n=["sig","version","channels","rows","cols","depth","mode"],e=0,i=n.length;e<i;e++)r=n[e],t[r]=this[r];return t},e}(i)},{"coffeescript-module":void 0}],7:[function(t,e,r){var i,n,o,s,a=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty;s=t("coffeescript-module").Module,n=t("./image_format.coffee"),o=t("./image_mode.coffee"),i=t("./image_export.coffee"),e.exports=function(t){function e(t,e){this.file=t,this.header=e,this.numPixels=this.width()*this.height(),16===this.depth()&&(this.numPixels*=2),this.calculateLength(),this.pixelData=new Uint8Array(4*this.channelLength),this.maskData=new Uint8Array(4*this.maskLength),this.channelData=new Uint8Array(this.length+this.maskLength),this.opacity=1,this.hasMask=!1,this.startPos=this.file.tell(),this.endPos=this.startPos+this.length,this.setChannelsInfo()}var r,s,h,f,l;for(a(e,t),e.includes(n.RAW),e.includes(n.RLE),e.includes(o.Greyscale),e.includes(o.RGB),e.includes(o.CMYK),e.includes(i.PNG),["Raw","RLE","ZIP","ZIPPrediction"],l=["width","height","channels","depth","mode"],s=function(t){return e.prototype[t]=function(){return this.header[t]}},h=0,f=l.length;h<f;h++)r=l[h],s(r);return e.prototype.setChannelsInfo=function(){switch(this.mode()){case 1:return this.setGreyscaleChannels();case 3:return this.setRgbChannels();case 4:return this.setCmykChannels()}},e.prototype.calculateLength=function(){return this.length=function(){switch(this.depth()){case 1:return(this.width()+7)/8*this.height();case 16:return this.width()*this.height()*2;default:return this.width()*this.height()}}.call(this),this.channelLength=this.length,this.length*=this.channels(),this.layer&&this.layer.mask.size?this.maskLength=this.layer.mask.width*this.layer.mask.height:this.maskLength=0},e.prototype.parse=function(){var t;return this.compression=this.parseCompression(),2===(t=this.compression)||3===t?void this.file.seek(this.endPos):this.parseImageData()},e.prototype.parseCompression=function(){return this.file.readShort()},e.prototype.parseImageData=function(){switch(this.compression){case 0:this.parseRaw();break;case 1:this.parseRLE();break;case 2:case 3:this.parseZip();break;default:this.file.seek(this.endPos)}return this.processImageData()},e.prototype.processImageData=function(){switch(this.mode()){case 1:this.combineGreyscaleChannel();break;case 3:this.combineRgbChannel();break;case 4:this.combineCmykChannel()}return this.channelData=null},e}(s)},{"./image_export.coffee":8,"./image_format.coffee":10,"./image_mode.coffee":15,"coffeescript-module":void 0}],8:[function(t,e,r){e.exports={PNG:t("./image_exports/png.coffee")}},{"./image_exports/png.coffee":9}],9:[function(t,e,r){var i,n,o;o=t("fs"),i=t("pngjs").PNG,n=t("rsvp"),e.exports={toPng:function(){var t;return t=new i({filterType:4,width:this.width(),height:this.height()}),t.data=this.pixelData,t},saveAsPng:function(t){return new n.Promise(function(e){return function(r,i){return e.toPng().pack().pipe(o.createWriteStream(t)).on("finish",r)}}(this))},maskToPng:function(){var t;return t=new i({filterType:4,width:this.layer.mask.width,height:this.layer.mask.height}),t.data=this.maskData,t},saveMaskAsPng:function(t){return new n.Promise(function(e){return function(r,i){return e.maskToPng().pack().pipe(o.createWriteStream(t)).on("finish",r)}}(this))}}},{fs:void 0,pngjs:void 0,rsvp:void 0}],10:[function(t,e,r){e.exports={RAW:t("./image_formats/raw.coffee"),RLE:t("./image_formats/rle.coffee"),LayerRLE:t("./image_formats/layer_rle.coffee"),LayerRAW:t("./image_formats/layer_raw.coffee")}},{"./image_formats/layer_raw.coffee":11,"./image_formats/layer_rle.coffee":12,"./image_formats/raw.coffee":13,"./image_formats/rle.coffee":14}],11:[function(t,e,r){e.exports={parseRaw:function(){var t,e,r,i;for(t=e=r=this.chanPos,i=this.chanPos+this.chan.length-2;r<=i?e<i:e>i;t=r<=i?++e:--e)this.channelData[t]=this.file.readByte();return this.chanPos+=this.chan.length-2}}},{}],12:[function(t,e,r){e.exports={parseByteCounts:function(){var t,e,r;for(r=[],t=0,e=this.height();0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.file.readShort());return r},parseChannelData:function(){return this.lineIndex=0,this.decodeRLEChannel()}}},{}],13:[function(t,e,r){e.exports={parseRaw:function(){return this.channelData.set(this.file.read(this.length))}}},{}],14:[function(t,e,r){e.exports={parseRLE:function(){return this.byteCounts=this.parseByteCounts(),this.parseChannelData()},parseByteCounts:function(){var t,e,r;for(r=[],t=0,e=this.channels()*this.height();0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.file.readShort());return r},parseChannelData:function(){var t,e,r;for(this.chanPos=0,this.lineIndex=0,r=[],t=0,e=this.channels();0<=e?t<e:t>e;0<=e?++t:--t)this.decodeRLEChannel(),r.push(this.lineIndex+=this.height());return r},decodeRLEChannel:function(){var t,e,r,i,n,o,s,a,h;for(a=[],i=n=0,s=this.height();0<=s?n<s:n>s;i=0<=s?++n:--n)t=this.byteCounts[this.lineIndex+i],r=this.file.tell()+t,a.push(function(){var t;for(t=[];this.file.tell()<r;)o=this.file.read(1)[0],o<128?(o+=1,e=this.file.read(o),this.channelData.set(e,this.chanPos),t.push(this.chanPos+=o)):o>128?(o^=255,o+=2,h=this.file.read(1)[0],this.channelData.fill(h,this.chanPos,this.chanPos+o),t.push(this.chanPos+=o)):t.push(void 0);return t}.call(this));return a}}},{}],15:[function(t,e,r){e.exports={Greyscale:t("./image_modes/greyscale.coffee"),RGB:t("./image_modes/rgb.coffee"),CMYK:t("./image_modes/cmyk.coffee")}},{"./image_modes/cmyk.coffee":16,"./image_modes/greyscale.coffee":17,"./image_modes/rgb.coffee":18}],16:[function(t,e,r){var i;i=t("../color.coffee"),e.exports={setCmykChannels:function(){if(this.channelsInfo=[{id:0},{id:1},{id:2},{id:3}],5===this.channels())return this.channelsInfo.push({id:-1})},combineCmykChannel:function(){var t,e,r,n,o,s,a,h,f,l,c,u,p,d,y,g,_,m;for(o=this.channelsInfo.map(function(t){return t.id}).filter(function(t){return t>=-1}),a=f=0,y=this.numPixels;0<=y?f<y:f>y;a=0<=y?++f:--f){for(r=p=m=l=0,t=255,h=c=0,u=o.length;c<u;h=++c)switch(n=o[h],_=this.channelData[a+this.channelLength*h],n){case-1:t=_;break;case 0:r=_;break;case 1:p=_;break;case 2:m=_;break;case 3:l=_}g=i.cmykToRgb(255-r,255-p,255-m,255-l),d=g[0],s=g[1],e=g[2],this.pixelData.set([d,s,e,t],4*a)}return this.readMaskData(o)}}},{"../color.coffee":3}],17:[function(t,e,r){e.exports={setGreyscaleChannels:function(){if(this.channelsInfo=[{id:0}],2===this.channels())return this.channelsInfo.push({id:-1})},combineGreyscaleChannel:function(){var t,e,r,i,n,o;for(o=[],r=i=0,n=this.numPixels;0<=n?i<n:i>n;r=0<=n?++i:--i)e=this.channelData[r],t=2===this.channels()?this.channelData[this.channelLength+r]:255,o.push(this.pixelData.set([e,e,e,t],4*r));return o}}},{}],18:[function(t,e,r){e.exports={setRgbChannels:function(){if(this.channelsInfo=[{id:0},{id:1},{id:2}],4===this.channels())return this.channelsInfo.push({id:-1})},combineRgbChannel:function(){var t,e,r,i,n,o,s,a,h,f,l,c,u;for(c=this.channelsInfo.map(function(t){return t.id}).filter(function(t){return t>=-1}),n=s=0,l=this.numPixels;0<=l?s<l:s>l;n=0<=l?++s:--s){for(f=i=e=0,t=255,o=a=0,h=c.length;a<h;o=++a)switch(r=c[o],u=this.channelData[n+this.channelLength*o],r){case-1:t=u;break;case 0:f=u;break;case 1:i=u;break;case 2:e=u}this.pixelData.set([f,i,e,t],4*n)}return this.readMaskData(c)},readMaskData:function(t){var e,r,i,n,o,s,a;if(this.hasMask){for(i=this.layer.mask.width*this.layer.mask.height,n=this.channelLength*t.length,s=[],e=r=0,o=i;0<=o?r<o:r>o;e=0<=o?++r:--r)a=this.channelData[e+n],s.push(this.maskData.set([0,0,0,a],4*e));return s}}}},{}],19:[function(t,e,r){var i,n;n=t("fs"),i=t("rsvp"),e.exports={extended:function(t){return this.fromFile=function(e){return new t(n.readFileSync(e))},this.open=function(e){return new i.Promise(function(r,i){return n.readFile(e,function(e){return function(e,n){var o;return e?i(e):(o=new t(n),o.parse(),r(o))}}())})}}}},{fs:void 0,rsvp:void 0}],20:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("coffeescript-module").Module,e.exports=function(e){function r(t,e){this.file=t,this.header=e,this.mask={},this.blendingRanges={},this.adjustments={},this.channelsInfo=[],this.blendMode={},this.groupLayer=null,this.infoKeys=[],Object.defineProperty(this,"name",{get:function(){return null!=this.adjustments.name?this.adjustments.name.data:this.legacyName}})}return n(r,e),r.includes(t("./layer/position_channels.coffee")),r.includes(t("./layer/blend_modes.coffee")),r.includes(t("./layer/mask.coffee")),r.includes(t("./layer/blending_ranges.coffee")),r.includes(t("./layer/name.coffee")),r.includes(t("./layer/info.coffee")),r.includes(t("./layer/helpers.coffee")),r.includes(t("./layer/channel_image.coffee")),r.prototype.parse=function(){var t;return this.parsePositionAndChannels(),this.parseBlendModes(),t=this.file.readInt(),this.layerEnd=this.file.tell()+t,this.parseMaskData(),this.parseBlendingRanges(),this.parseLegacyLayerName(),this.parseLayerInfo(),this.file.seek(this.layerEnd),this},r.prototype.export=function(){return{name:this.name,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height,opacity:this.opacity,visible:this.visible,clipped:this.clipped,mask:this.mask.export()}},r}(i)},{"./layer/blend_modes.coffee":21,"./layer/blending_ranges.coffee":22,"./layer/channel_image.coffee":23,"./layer/helpers.coffee":24,"./layer/info.coffee":25,"./layer/mask.coffee":26,"./layer/name.coffee":27,"./layer/position_channels.coffee":28,"coffeescript-module":void 0}],21:[function(t,e,r){var i;i=t("../blend_mode.coffee"),e.exports={parseBlendModes:function(){return this.blendMode=new i(this.file),this.blendMode.parse(),this.opacity=this.blendMode.opacity,this.visible=this.blendMode.visible,this.clipped=this.blendMode.clipped},hidden:function(){return!this.visible},blendingMode:function(){return this.blendMode.mode}}},{"../blend_mode.coffee":1}],22:[function(t,e,r){e.exports={parseBlendingRanges:function(){var t,e,r,i,n;if(0!==(e=this.file.readInt())){for(this.blendingRanges.grey={source:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]},dest:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]}},r=(e-8)/8,this.blendingRanges.channels=[],n=[],t=0,i=r;0<=i?t<i:t>i;0<=i?++t:--t)n.push(this.blendingRanges.channels.push({source:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]},dest:{black:[this.file.readByte(),this.file.readByte()],white:[this.file.readByte(),this.file.readByte()]}}));return n}}}},{}],23:[function(t,e,r){var i,n;i=t("../channel_image.coffee"),n=t("../lazy_execute.coffee"),e.exports={parseChannelImage:function(){var t;return t=new i(this.file,this.header,this),this.image=new n(t,this.file).now("skip").later("parse").get()}}},{"../channel_image.coffee":2,"../lazy_execute.coffee":51}],24:[function(t,e,r){e.exports={isFolder:function(){return null!=this.adjustments.sectionDivider?this.adjustments.sectionDivider.isFolder:null!=this.adjustments.nestedSectionDivider?this.adjustments.nestedSectionDivider.isFolder:"<Layer group>"===this.name},isFolderEnd:function(){return null!=this.adjustments.sectionDivider?this.adjustments.sectionDivider.isHidden:null!=this.adjustments.nestedSectionDivider?this.adjustments.nestedSectionDivider.isHidden:"</Layer group>"===this.name}}},{}],25:[function(t,e,r){var i,n,o,s={}.hasOwnProperty;n=t("../lazy_execute.coffee"),o=t("../util.coffee"),i={artboard:t("../layer_info/artboard.coffee"),blendClippingElements:t("../layer_info/blend_clipping_elements.coffee"),blendInteriorElements:t("../layer_info/blend_interior_elements.coffee"),fillOpacity:t("../layer_info/fill_opacity.coffee"),gradientFill:t("../layer_info/gradient_fill.coffee"),layerId:t("../layer_info/layer_id.coffee"),layerNameSource:t("../layer_info/layer_name_source.coffee"),legacyTypetool:t("../layer_info/legacy_typetool.coffee"),locked:t("../layer_info/locked.coffee"),metadata:t("../layer_info/metadata.coffee"),name:t("../layer_info/unicode_name.coffee"),nestedSectionDivider:t("../layer_info/nested_section_divider.coffee"),objectEffects:t("../layer_info/object_effects.coffee"),sectionDivider:t("../layer_info/section_divider.coffee"),solidColor:t("../layer_info/solid_color.coffee"),typeTool:t("../layer_info/typetool.coffee"),vectorMask:t("../layer_info/vector_mask.coffee"),vectorOrigination:t("../layer_info/vector_origination.coffee"),vectorStroke:t("../layer_info/vector_stroke.coffee"),vectorStrokeContent:t("../layer_info/vector_stroke_content.coffee")},e.exports={parseLayerInfo:function(){var t,e,r,a,h,f,l;for(l=[];this.file.tell()<this.layerEnd;){this.file.seek(4,!0),e=this.file.readString(4),h=o.pad2(this.file.readInt()),this.file.tell(),r=!1;for(f in i)if(s.call(i,f)&&(a=i[f],a.shouldParse(e))){t=new a(this,h),this.adjustments[f]=new n(t,this.file).now("skip").later("parse").get(),null==this[f]&&function(t){return function(e){return t[e]=function(){return t.adjustments[e]}}}(this)(f),this.infoKeys.push(e),r=!0;break}r?l.push(void 0):l.push(this.file.seek(h,!0))}return l}}},{"../layer_info/artboard.coffee":30,"../layer_info/blend_clipping_elements.coffee":31,"../layer_info/blend_interior_elements.coffee":32,"../layer_info/fill_opacity.coffee":33,"../layer_info/gradient_fill.coffee":34,"../layer_info/layer_id.coffee":35,"../layer_info/layer_name_source.coffee":36,"../layer_info/legacy_typetool.coffee":37,"../layer_info/locked.coffee":38,"../layer_info/metadata.coffee":39,"../layer_info/nested_section_divider.coffee":40,"../layer_info/object_effects.coffee":41,"../layer_info/section_divider.coffee":42,"../layer_info/solid_color.coffee":43,"../layer_info/typetool.coffee":44,"../layer_info/unicode_name.coffee":45,"../layer_info/vector_mask.coffee":46,"../layer_info/vector_origination.coffee":47,"../layer_info/vector_stroke.coffee":48,"../layer_info/vector_stroke_content.coffee":49,"../lazy_execute.coffee":51,"../util.coffee":67}],26:[function(t,e,r){var i;i=t("../mask.coffee"),e.exports={parseMaskData:function(){return this.mask=new i(this.file).parse()}}},{"../mask.coffee":52}],27:[function(t,e,r){var i;i=t("../util.coffee"),e.exports={parseLegacyLayerName:function(){var t;return t=i.pad4(this.file.readByte()),this.legacyName=this.file.readString(t)}}},{"../util.coffee":67}],28:[function(t,e,r){e.exports={parsePositionAndChannels:function(){var t,e,r,i,n;for(this.top=this.file.readInt(),this.left=this.file.readInt(),this.bottom=this.file.readInt(),this.right=this.file.readInt(),this.channels=this.file.readShort(),this.rows=this.height=this.bottom-this.top,this.cols=this.width=this.right-this.left,n=[],e=0,i=this.channels;0<=i?e<i:e>i;0<=i?++e:--e)t=this.file.readShort(),r=this.file.readInt(),n.push(this.channelsInfo.push({id:t,length:r}));return n}}},{}],29:[function(t,e,r){e.exports=function(){function t(t,e){this.layer=t,this.length=e,this.file=this.layer.file,this.section_end=this.file.tell()+this.length,this.data={}}return t.prototype.skip=function(){return this.file.seek(this.section_end)},t.prototype.parse=function(){return this.skip()},t}()},{}],30:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"artb"===t},e.prototype.parse=function(){return this.file.seek(4,!0),this.data=new i(this.file).parse()},e.prototype.export=function(){return{coords:{left:this.data.artboardRect.Left,top:this.data.artboardRect["Top "],right:this.data.artboardRect.Rght,bottom:this.data.artboardRect.Btom}}},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],31:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.shouldParse=function(t){return"clbl"===t},e.prototype.parse=function(){return this.enabled=this.file.readBoolean(),this.file.seek(3,!0)},e}(i)},{"../layer_info.coffee":29}],32:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.shouldParse=function(t){return"infx"===t},e.prototype.parse=function(){return this.enabled=this.file.readBoolean(),this.file.seek(3,!0)},e}(i)},{"../layer_info.coffee":29}],33:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.shouldParse=function(t){return"iOpa"===t},e.prototype.parse=function(){return this.value=this.file.readByte()},e}(i)},{"../layer_info.coffee":29}],34:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"GdFl"===t},e.prototype.parse=function(){return this.file.seek(4,!0),this.data=new i(this.file).parse()},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],35:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.shouldParse=function(t){return"lyid"===t},e.prototype.parse=function(){return this.id=this.file.readInt()},e}(i)},{"../layer_info.coffee":29}],36:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.shouldParse=function(t){return"lnsr"===t},e.prototype.parse=function(){return this.id=this.file.readString(4)},e}(i)},{"../layer_info.coffee":29}],37:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("lodash"),i=t("./typetool.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.transform={},this.faces=[],this.styles=[],this.lines=[],this.type=0,this.scalingFactor=0,this.characterCount=0,this.horzPlace=0,this.vertPlace=0,this.selectStart=0,this.selectEnd=0,this.color=null,this.antialias=null}return o(e,t),e.shouldParse=function(t){return"tySh"===t},e.prototype.parse=function(){var t,e,r,i,o,s,a,h,f;for(this.file.seek(2,!0),this.parseTransformInfo(),this.file.seek(2,!0),t=this.file.readShort(),e=0,s=t;0<=s?e<s:e>s;0<=s?++e:--e)this.faces.push(n({}).tap(function(t){return function(e){var r,i,n;for(e.mark=t.file.readShort(),e.fontType=t.file.readInt(),e.fontName=t.file.readString(),e.fontFamilyName=t.file.readString(),e.fontStyleName=t.file.readString(),e.script=t.file.readShort(),e.numberAxesVector=t.file.readInt(),e.vector=[],n=[],r=0,i=e.numberAxesVector;0<=i?r<i:r>i;0<=i?++r:--r)n.push(e.vector.push(t.file.readInt()));return n}}(this)));for(f=this.file.readShort(),r=0,a=f;0<=a?r<a:r>a;0<=a?++r:--r)this.styles.push(n({}).tap(function(t){return function(e){return e.mark=t.file.readShort(),e.faceMark=t.file.readShort(),e.size=t.file.readInt(),e.tracking=t.file.readInt(),e.kerning=t.file.readInt(),e.leading=t.file.readInt(),e.baseShift=t.file.readInt(),e.autoKern=t.file.readBoolean(),t.file.seek(1,!0),e.rotate=t.file.readBoolean()}}(this)));for(this.type=this.file.readShort(),
this.scalingFactor=this.file.readInt(),this.characterCount=this.file.readInt(),this.horzPlace=this.file.readInt(),this.vertPlace=this.file.readInt(),this.selectStart=this.file.readInt(),this.selectEnd=this.file.readInt(),i=this.file.readShort(),o=0,h=i;0<=h?o<h:o>h;0<=h?++o:--o)this.lines.push(n({}).tap(function(t){return t.charCount=this.file.readInt(),t.orientation=this.file.readShort(),t.alignment=this.file.readShort(),t.actualChar=this.file.readShort(),t.style=this.file.readShort()}));return this.color=this.file.readSpaceColor(),this.antialias=this.file.readBoolean()},e}(i)},{"./typetool.coffee":44,lodash:void 0}],38:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.transparencyLocked=!1,this.compositeLocked=!1,this.positionLocked=!1,this.allLocked=!1}return n(e,t),e.shouldParse=function(t){return"lspf"===t},e.prototype.parse=function(){var t;return t=this.file.readInt(),this.transparencyLocked=(1&t)>0||-2147483648===t,this.compositeLocked=(2&t)>0||-2147483648===t,this.positionLocked=(4&t)>0||-2147483648===t,this.allLocked=this.transparencyLocked&&this.compositeLocked&&this.positionLocked},e}(i)},{"../layer_info.coffee":29}],39:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"shmd"===t},e.prototype.parse=function(){var t,e,r,i,n,o,s;for(t=this.file.readInt(),s=[],r=0,o=t;0<=o?r<o:r>o;0<=o?++r:--r)this.file.seek(4,!0),i=this.file.readString(4),this.file.readByte(),this.file.seek(3,!0),n=this.file.readInt(),e=this.file.tell()+n,"cmls"===i&&this.parseLayerComps(),s.push(this.file.seek(e));return s},e.prototype.parseLayerComps=function(){return this.file.seek(4,!0),this.data.layerComp=new i(this.file).parse()},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],40:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.isFolder=!1,this.isHidden=!1}return n(e,t),e.shouldParse=function(t){return"lsdk"===t},e.prototype.parse=function(){switch(this.file.readInt()){case 1:case 2:return this.isFolder=!0;case 3:return this.isHidden=!0}},e}(i)},{"../layer_info.coffee":29}],41:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"lfx2"===t},e.prototype.parse=function(){return this.file.seek(8,!0),this.data=new i(this.file).parse()},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],42:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.isFolder=!1,this.isHidden=!1,this.layerType=null,this.blendMode=null,this.subType=null}var r;return n(e,t),e.shouldParse=function(t){return"lsct"===t},r=["other","open folder","closed folder","bounding section divider"],e.prototype.parse=function(){var t;switch(t=this.file.readInt(),this.layerType=r[t],t){case 1:case 2:this.isFolder=!0;break;case 3:this.isHidden=!0}if(this.length>=12&&(this.file.seek(4,!0),this.blendMode=this.file.readString(4),this.length>=16))return this.subType=0===this.file.readInt()?"normal":"scene group"},e}(i)},{"../layer_info.coffee":29}],43:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.r=this.g=this.b=0}return o(e,t),e.shouldParse=function(t){return"SoCo"===t},e.prototype.parse=function(){return this.file.seek(4,!0),this.data=new i(this.file).parse(),this.r=Math.round(this.colorData()["Rd  "]),this.g=Math.round(this.colorData()["Grn "]),this.b=Math.round(this.colorData()["Bl  "])},e.prototype.colorData=function(){return this.data["Clr "]},e.prototype.color=function(){return[this.r,this.g,this.b]},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],44:[function(t,e,r){var i,n,o,s,a=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty;o=t("lodash"),s=t("parse-engine-data"),n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.version=null,this.transform={},this.textVersion=null,this.descriptorVersion=null,this.textData=null,this.engineData=null,this.textValue=null,this.warpVersion=null,this.descriptorVersion=null,this.warpData=null,this.coords={}}var r,n;return a(e,t),e.shouldParse=function(t){return"TySh"===t},n=["xx","xy","yx","yy","tx","ty"],r=["left","top","right","bottom"],e.prototype.parse=function(){var t,e,n,o,a;for(this.version=this.file.readShort(),this.parseTransformInfo(),this.textVersion=this.file.readShort(),this.descriptorVersion=this.file.readInt(),this.textData=new i(this.file).parse(),this.textValue=this.textData["Txt "],this.engineData=s(this.textData.EngineData),this.warpVersion=this.file.readShort(),this.descriptorVersion=this.file.readInt(),this.warpData=new i(this.file).parse(),a=[],e=t=0,n=r.length;t<n;e=++t)o=r[e],a.push(this.coords[o]=this.file.readInt());return a},e.prototype.parseTransformInfo=function(){var t,e,r,i,o;for(o=[],e=t=0,r=n.length;t<r;e=++t)i=n[e],o.push(this.transform[i]=this.file.readDouble());return o},e.prototype.fonts=function(){return null==this.engineData?[]:this.engineData.ResourceDict.FontSet.map(function(t){return t.Name})},e.prototype.lengthArray=function(){var t,e;return t=this.engineData.EngineDict.StyleRun.RunLengthArray,e=o.reduce(t,function(t,e){return t+e}),e-this.textValue.length==1&&(t[t.length-1]=t[t.length-1]-1),t},e.prototype.fontStyles=function(){var t;return t=this.engineData.EngineDict.StyleRun.RunArray.map(function(t){return t.StyleSheet.StyleSheetData}),t.map(function(t){return t.FauxItalic?"italic":"normal"})},e.prototype.fontWeights=function(){var t;return t=this.engineData.EngineDict.StyleRun.RunArray.map(function(t){return t.StyleSheet.StyleSheetData}),t.map(function(t){return t.FauxBold?"bold":"normal"})},e.prototype.textDecoration=function(){var t;return t=this.engineData.EngineDict.StyleRun.RunArray.map(function(t){return t.StyleSheet.StyleSheetData}),t.map(function(t){return t.Underline?"underline":"none"})},e.prototype.leading=function(){var t;return t=this.engineData.EngineDict.StyleRun.RunArray.map(function(t){return t.StyleSheet.StyleSheetData}),t.map(function(t){return t.Leading?t.Leading:"auto"})},e.prototype.sizes=function(){return null==this.engineData&&null==this.styles().FontSize?[]:this.styles().FontSize},e.prototype.alignment=function(){var t;return null==this.engineData?[]:(t=["left","right","center","justify"],this.engineData.EngineDict.ParagraphRun.RunArray.map(function(e){return t[Math.min(parseInt(e.ParagraphSheet.Properties.Justification,10),3)]}))},e.prototype.colors=function(){return null==this.engineData||null==this.styles().FillColor?[[0,0,0,255]]:this.styles().FillColor.map(function(t){var e;return e=t.Values.map(function(t){return Math.round(255*t)}),e.push(e.shift()),e})},e.prototype.styles=function(){var t;return null==this.engineData?{}:null!=this._styles?this._styles:(t=this.engineData.EngineDict.StyleRun.RunArray.map(function(t){return t.StyleSheet.StyleSheetData}),this._styles=o.reduce(t,function(t,e){var r,i;for(r in e)h.call(e,r)&&(i=e[r],t[r]||(t[r]=[]),t[r].push(i));return t},{}))},e.prototype.toCSS=function(){var t,e,r,i;e={"font-family":this.fonts().join(", "),"font-size":this.sizes()[0]+"pt",color:"rgba("+this.colors()[0].join(", ")+")","text-align":this.alignment()[0]},t=[];for(r in e)null!=(i=e[r])&&t.push(r+": "+i+";");return t.join("\n")},e.prototype.export=function(){return{value:this.textValue,font:{lengthArray:this.lengthArray(),styles:this.fontStyles(),weights:this.fontWeights(),names:this.fonts(),sizes:this.sizes(),colors:this.colors(),alignment:this.alignment(),textDecoration:this.textDecoration(),leading:this.leading()},left:this.coords.left,top:this.coords.top,right:this.coords.right,bottom:this.coords.bottom,transform:this.transform}},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29,lodash:void 0,"parse-engine-data":void 0}],45:[function(t,e,r){var i,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("../layer_info.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.shouldParse=function(t){return"luni"===t},e.prototype.parse=function(){var t;return t=this.file.tell(),this.data=this.file.readUnicodeString(),this.file.seek(t+this.length),this},e}(i)},{"../layer_info.coffee":29}],46:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../layer_info.coffee"),n=t("../path_record.coffee"),e.exports=function(t){function e(t,r){e.__super__.constructor.call(this,t,r),this.invert=null,this.notLink=null,this.disable=null,this.paths=[]}return o(e,t),e.shouldParse=function(t){return"vmsk"===t||"vsms"===t},e.prototype.parse=function(){var t,e,r,i,o,s;for(this.file.seek(4,!0),s=this.file.readInt(),this.invert=(1&s)>0,this.notLink=(2&s)>0,this.disable=(4&s)>0,e=(this.length-10)/26,o=[],t=0,i=e;0<=i?t<i:t>i;0<=i?++t:--t)r=new n(this.file),r.parse(),o.push(this.paths.push(r));return o},e.prototype.export=function(){return{invert:this.invert,notLink:this.notLink,disable:this.disable,paths:this.paths.map(function(t){return t.export()})}},e}(i)},{"../layer_info.coffee":29,"../path_record.coffee":60}],47:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"vogk"===t},e.prototype.parse=function(){return this.file.seek(8,!0),this.data=new i(this.file).parse()},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],48:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"vstk"===t},e.prototype.parse=function(){return this.file.seek(4,!0),this.data=new i(this.file).parse()},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],49:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("../layer_info.coffee"),i=t("../descriptor.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.shouldParse=function(t){return"vscg"===t},e.prototype.parse=function(){return this.file.seek(8,!0),this.data=new i(this.file).parse()},e}(n)},{"../descriptor.coffee":4,"../layer_info.coffee":29}],50:[function(t,e,r){var i,n,o;o=t("lodash"),n=t("./util.coffee"),i=t("./layer.coffee"),e.exports=function(){function t(t,e){this.file=t,this.header=e,this.layers=[],this.mergedAlpha=!1,this.globalMask=null}return t.prototype.skip=function(){return this.file.seek(this.file.readInt(),!0)},t.prototype.parse=function(){var t,e;if(e=this.file.readInt(),t=e+this.file.tell(),!(e<=0))return this.parseLayers(),this.parseGlobalMask(),this.layers.reverse(),this.file.seek(t)},t.prototype.parseLayers=function(){var t,e,r,o,s,a,h,f;if(n.pad2(this.file.readInt())>0){for(o=this.file.readShort(),o<0&&(o=Math.abs(o),this.mergedAlpha=!0),t=0,a=o;0<=a?t<a:t>a;0<=a?++t:--t)this.layers.push(new i(this.file,this.header).parse());for(h=this.layers,f=[],e=0,s=h.length;e<s;e++)r=h[e],f.push(r.parseChannelImage());return f}},t.prototype.parseGlobalMask=function(){var t,e;if(!((t=this.file.readInt())<=0))return e=this.file.tell()+t,this.globalMask=o({}).tap(function(t){return function(e){return e.overlayColorSpace=t.file.readShort(),e.colorComponents=[t.file.readShort()>>8,t.file.readShort()>>8,t.file.readShort()>>8,t.file.readShort()>>8],e.opacity=t.file.readShort()/16,e.kind=t.file.readByte()}}(this)),this.file.seek(e)},t}()},{"./layer.coffee":20,"./util.coffee":67,lodash:void 0}],51:[function(t,e,r){var i=[].slice,n=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};e.exports=function(){function t(t,e){this.obj=t,this.file=e,this.startPos=this.file.tell(),this.loaded=!1,this.loadMethod=null,this.loadArgs=[],this.passthru=[]}return t.prototype.now=function(){var t,e;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],this.obj[e].apply(this.obj,t),this},t.prototype.later=function(){var t,e;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],this.loadMethod=e,this.loadArgs=t,this},t.prototype.ignore=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this.passthru.concat(t),this},t.prototype.get=function(){var t,e,r,i;r=this.obj,t=function(t){return function(e,r){if(null==t[e])return Object.defineProperty(t,e,{get:function(){return this.loaded||n.call(this.passthru,e)>=0||this.load(),this.obj[e]}})}}(this);for(e in r)i=r[e],t(e,i);return this},t.prototype.load=function(){var t;return t=this.file.tell(),this.file.seek(this.startPos),this.obj[this.loadMethod].apply(this.obj,this.loadArgs),this.file.seek(t),this.loaded=!0},t}()},{}],52:[function(t,e,r){e.exports=function(){function t(t){this.file=t,this.top=0,this.right=0,this.bottom=0,this.left=0}return t.prototype.parse=function(){var t;return this.size=this.file.readInt(),0===this.size?this:(t=this.file.tell()+this.size,this.top=this.file.readInt(),this.left=this.file.readInt(),this.bottom=this.file.readInt(),this.right=this.file.readInt(),this.width=this.right-this.left,this.height=this.bottom-this.top,this.relative=(1&this.flags)>0,this.disabled=(2&this.flags)>0,this.invert=(4&this.flags)>0,this.defaultColor=this.file.readByte(),this.flags=this.file.readByte(),this.file.seek(t),this)},t.prototype.export=function(){return 0===this.size?{}:{top:this.top,left:this.left,bottom:this.bottom,right:this.right,width:this.width,height:this.height,defaultColor:this.defaultColor,relative:this.relative,disabled:this.disabled,invert:this.invert}},t}()},{}],53:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("lodash"),i=t("coffeescript-module").Module,e.exports=function(e){function r(t,e){this.layer=t,this.parent=null!=e?e:null,this.layer.node=this,this._children=[],this.name=this.layer.name,this.forceVisible=null,this.coords={top:this.layer.top,bottom:this.layer.bottom,left:this.layer.left,right:this.layer.right},this.topOffset=0,this.leftOffset=0,this.createProperties()}return o(r,e),r.includes(t("./nodes/ancestry.coffee")),r.includes(t("./nodes/search.coffee")),r.includes(t("./nodes/build_preview.coffee")),r.PROPERTIES=["name","left","right","top","bottom","height","width"],r.prototype.type="node",r.prototype.createProperties=function(){return Object.defineProperty(this,"top",{get:function(){return this.coords.top+this.topOffset},set:function(t){return this.coords.top=t}}),Object.defineProperty(this,"right",{get:function(){return this.coords.right+this.leftOffset},set:function(t){return this.coords.right=t}}),Object.defineProperty(this,"bottom",{get:function(){return this.coords.bottom+this.topOffset},set:function(t){return this.coords.bottom=t}}),Object.defineProperty(this,"left",{get:function(){return this.coords.left+this.leftOffset},set:function(t){return this.coords.left=t}}),Object.defineProperty(this,"width",{get:function(){return this.right-this.left}}),Object.defineProperty(this,"height",{get:function(){return this.bottom-this.top}})},r.prototype.get=function(t){var e;return e=null!=this[t]?this[t]:this.layer[t],"function"==typeof e?e():e},r.prototype.visible=function(){return!(this.layer.clipped&&!this.clippingMask().visible())&&(null!=this.forceVisible?this.forceVisible:this.layer.visible)},r.prototype.hidden=function(){return!this.visible()},r.prototype.isLayer=function(){return"layer"===this.type},r.prototype.isGroup=function(){return"group"===this.type},r.prototype.isRoot=function(){return"root"===this.type},r.prototype.clippingMask=function(){var t;return this.layer.clipped?this.clippingMaskCached||(this.clippingMaskCached=function(){for(t=this.nextSibling();t.clipped;)t=t.nextSibling();return t}.call(this)):null},r.prototype.clippedBy=function(){return this.clippingMask()},r.prototype.export=function(){var t,e,i,n,o;for(t={type:null,visible:this.visible(),opacity:this.layer.opacity/255,blendingMode:this.layer.blendingMode()},o=r.PROPERTIES,e=0,i=o.length;e<i;e++)n=o[e],t[n]=this[n];return t},r.prototype.updateDimensions=function(){var t,e,r,i,o;if(!this.isLayer()){for(o=this._children,e=0,r=o.length;e<r;e++)t=o[e],t.updateDimensions();if(!this.isRoot())return i=this._children.filter(function(t){return!t.isEmpty()}),this.left=n.min(i.map(function(t){return t.left}))||0,this.top=n.min(i.map(function(t){return t.top}))||0,this.bottom=n.max(i.map(function(t){return t.bottom}))||0,this.right=n.max(i.map(function(t){return t.right}))||0}},r}(i)},{"./nodes/ancestry.coffee":54,"./nodes/build_preview.coffee":55,"./nodes/search.coffee":59,"coffeescript-module":void 0,lodash:void 0}],54:[function(t,e,r){var i;i=t("lodash"),e.exports={root:function(){return this.isRoot()?this:this.parent.root()},isRoot:function(){return 0===this.depth()},children:function(){return this._children},ancestors:function(){return null==this.parent||this.parent.isRoot()?[]:this.parent.ancestors().concat([this.parent])},hasChildren:function(){return this._children.length>0},childless:function(){return!this.hasChildren()},siblings:function(){return null==this.parent?[]:this.parent.children()},nextSibling:function(){var t;return null==this.parent?null:(t=this.siblings().indexOf(this),this.siblings()[t+1])},prevSibling:function(){var t;return null==this.parent?null:(t=this.siblings().indexOf(this),this.siblings()[t-1])},hasSiblings:function(){return this.siblings().length>1},onlyChild:function(){return!this.hasSiblings()},descendants:function(){return i.flatten(this._children.map(function(t){return t.subtree()}))},subtree:function(){return[this].concat(this.descendants())},depth:function(){return this.ancestors().length+1},path:function(t){var e;return null==t&&(t=!1),e=this.ancestors().map(function(t){return t.name}).concat([this.name]),t?e:e.join("/")}}},{lodash:void 0}],55:[function(t,e,r){e.exports={toPng:function(){return this.layer.image.toPng()},saveAsPng:function(t){return this.layer.image.saveAsPng(t)}}},{}],56:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("lodash"),i=t("../node.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.type="group",e.prototype.passthruBlending=function(){return"passthru"===this.get("blendingMode")},e.prototype.isEmpty=function(){var t;if(!function(){var e,r,i,n;for(i=this._children,n=[],e=0,r=i.length;e<r;e++)t=i[e],n.push(t.isEmpty());return n}.call(this))return!1},e.prototype.export=function(){return n.merge(e.__super__.export.call(this),{type:"group",children:this._children.map(function(t){return t.export()})})},e}(i)},{"../node.coffee":53,lodash:void 0}],57:[function(t,e,r){var i,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=t("lodash"),i=t("../node.coffee"),e.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.type="layer",e.prototype.isEmpty=function(){return 0===this.width||0===this.height},e.prototype.export=function(){var t;return n.merge(e.__super__.export.call(this),{type:"layer",mask:this.layer.mask.export(),text:null!=(t=this.get("typeTool"))?t.export():void 0,image:{}})},e}(i)},{"../node.coffee":53,lodash:void 0}],58:[function(t,e,r){var i,n,o,s,a=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty;s=t("lodash"),o=t("../node.coffee"),i=t("./group.coffee"),n=t("./layer.coffee"),e.exports=function(t){function e(t){this.psd=t,e.__super__.constructor.call(this,e.layerForPsd(this.psd)),this.buildHeirarchy()}return a(e,t),e.layerForPsd=function(t){var e,r,i,n,s;for(r={},s=o.PROPERTIES,e=0,i=s.length;e<i;e++)n=s[e],r[n]=null;return r.top=0,r.left=0,r.right=t.header.width,r.bottom=t.header.height,r},e.prototype.type="root",e.prototype.documentDimensions=function(){return[this.width,this.height]},e.prototype.depth=function(){return 0},e.prototype.opacity=function(){return 255},e.prototype.fillOpacity=function(){return 255},e.prototype.export=function(){var t,e;return{children:this._children.map(function(t){return t.export()}),document:{width:this.width,height:this.height,resources:{layerComps:(null!=(t=this.psd.resources.resource("layerComps"))?t.export():void 0)||[],resolutionInfo:(null!=(e=this.psd.resources.resource("resolutionInfo"))?e.export():void 0)||[],guides:[],slices:[]}}}},e.prototype.buildHeirarchy=function(){var t,e,r,o,a,h,f;for(t=this,h=[],f=this.psd.layers,e=0,o=f.length;e<o;e++)r=f[e],r.isFolder()?(h.push(t),t=new i(r,s.last(h))):r.isFolderEnd()?(a=h.pop(),a.children().push(t),t=a):t.children().push(new n(r,t));return this.updateDimensions()},e}(o)},{"../node.coffee":53,"./group.coffee":56,"./layer.coffee":57,lodash:void 0}],59:[function(t,e,r){var i;i=t("lodash"),e.exports={childrenAtPath:function(t,e){var r,n;return null==e&&(e={}),Array.isArray(t)||(t=t.split("/").filter(function(t){return t.length>0})),t=i.clone(t),n=t.shift(),r=this.children().filter(function(t){return e.caseSensitive?t.name===n:t.name.toLowerCase()===n.toLowerCase()}),0===t.length?r:i.flatten(r.map(function(r){return r.childrenAtPath(i.clone(t),e)}))}}},{lodash:void 0}],60:[function(t,e,r){var i;i=t("lodash"),e.exports=function(){function t(t){this.file=t,this.recordType=null}return t.prototype.parse=function(){switch(this.recordType=this.file.readShort(),this.recordType){case 0:case 3:return this._readPathRecord();case 1:case 2:case 4:case 5:return this._readBezierPoint();case 7:return this._readClipboardRecord();case 8:return this._readInitialFill();default:return this.file.seek(24,!0)}},t.prototype.export=function(){return i.merge({recordType:this.recordType},function(){var t;switch(this.recordType){case 0:case 3:return{numPoints:this.numPoints};case 1:case 2:case 4:case 5:return{linked:this.linked,closed:1===(t=this.recordType)||2===t,preceding:{vert:this.precedingVert,horiz:this.precedingHoriz},anchor:{vert:this.anchorVert,horiz:this.anchorHoriz},leaving:{vert:this.leavingVert,horiz:this.leavingHoriz}};case 7:return{clipboard:{top:this.clipboardTop,left:this.clipboardLeft,bottom:this.clipboardBottom,right:this.clipboardRight,resolution:this.clipboardResolution}};case 8:return{initialFill:this.initialFill};default:return{}}}.call(this))},t.prototype.isBezierPoint=function(){var t;return 1===(t=this.recordType)||2===t||4===t||5===t},t.prototype._readPathRecord=function(){return this.numPoints=this.file.readShort(),this.file.seek(22,!0)},t.prototype._readBezierPoint=function(){var t;return this.linked=1===(t=this.recordType)||4===t,this.precedingVert=this.file.readPathNumber(),this.precedingHoriz=this.file.readPathNumber(),this.anchorVert=this.file.readPathNumber(),this.anchorHoriz=this.file.readPathNumber(),this.leavingVert=this.file.readPathNumber(),this.leavingHoriz=this.file.readPathNumber()},t.prototype._readClipboardRecord=function(){return this.clipboardTop=this.file.readPathNumber(),this.clipboardLeft=this.file.readPathNumber(),this.clipboardBottom=this.file.readPathNumber(),this.clipboardRight=this.file.readPathNumber(),this.clipboardResolution=this.file.readPathNumber(),this.file.seek(4,!0)},t.prototype._readInitialFill=function(){return this.initialFill=this.file.readShort(),this.file.seek(22,!0)},t}()},{lodash:void 0}],61:[function(t,e,r){var i;i=t("./util.coffee"),e.exports=function(){function e(t){this.file=t,this.id=null,this.type=null,this.length=0}return e.Section=t("./resource_section.coffee"),e.prototype.parse=function(){var t;return this.type=this.file.readString(4),this.id=this.file.readShort(),t=i.pad2(this.file.readByte()+1)-1,this.name=this.file.readString(t),this.length=i.pad2(this.file.readInt())},e}()},{"./resource_section.coffee":62,"./util.coffee":67}],62:[function(t,e,r){var i;i=t("lodash"),e.exports=function(){function e(){}var r;return r=[t("./resources/layer_comps.coffee"),t("./resources/layer_links.coffee"),t("./resources/resolution_info.coffee")],e.factory=function(t){var e,n,o;for(n=0,o=r.length;n<o;n++)if(e=r[n],e.prototype.id===t.id)return i.tap(new e(t),function(t){return t.parse()});return null},e}()},{"./resources/layer_comps.coffee":64,"./resources/layer_links.coffee":65,"./resources/resolution_info.coffee":66,lodash:void 0}],63:[function(t,e,r){var i;i=t("./resource.coffee"),e.exports=function(){function t(t){this.file=t,this.resources={},this.typeIndex={},this.length=null}return t.prototype.skip=function(){return this.length=this.file.readInt(),this.file.seek(this.length,!0)},t.prototype.parse=function(){var t,e,r,n;for(this.length=this.file.readInt(),t=this.length+this.file.tell();this.file.tell()<t;)e=new i(this.file),e.parse(),r=this.file.tell()+e.length,n=i.Section.factory(e),null!=n?(this.resources[n.id]=n,null!=n.name&&(this.typeIndex[n.name]=n.id),this.file.seek(r)):this.file.seek(r);return this.file.seek(t)},t.prototype.resource=function(t){return"string"==typeof t?this.byType(t):this.resources[t]},t.prototype.byType=function(t){return this.resources[this.typeIndex[t]]},t}()},{"./resource.coffee":61}],64:[function(t,e,r){var i;i=t("../descriptor.coffee"),e.exports=function(){function t(t){this.resource=t,this.file=this.resource.file}return t.prototype.id=1065,t.prototype.name="layerComps",t.visibilityCaptured=function(t){return t.capturedInfo&parseInt("001",2)>0},t.positionCaptured=function(t){return t.positionCaptured&parseInt("010",2)>0},t.appearanceCaptured=function(t){return t.appearanceCaptured&parseInt("100",2)>0},t.prototype.parse=function(){return this.file.seek(4,!0),this.data=new i(this.file).parse()},t.prototype.names=function(){return this.data.list.map(function(t){return t["Nm  "]})},t.prototype.export=function(){return this.data.list.map(function(t){return{id:t.compID,name:t["Nm  "],capturedInfo:t.capturedInfo}})},t}()},{"../descriptor.coffee":4}],65:[function(t,e,r){e.exports=function(){function t(t){this.resource=t,this.file=this.resource.file,this.linkArray=[]}return t.prototype.id=1026,t.prototype.name="LinkLayers",t.prototype.parse=function(){var t;for(t=this.file.tell()+this.resource.length;t>this.file.tell();)this.linkArray.push(this.file.readShort());return this.linkArray.reverse()},t}()},{}],66:[function(t,e,r){e.exports=function(){function t(t){this.resource=t,this.file=this.resource.file}return t.prototype.id=1005,t.prototype.name="resolutionInfo",t.prototype.parse=function(){return this.h_res=this.file.readUInt()/65536,this.h_res_unit=this.file.readUShort(),this.width_unit=this.file.readUShort(),this.v_res=this.file.readUInt()/65536,this.v_res_unit=this.file.readUShort(),this.height_unit=this.file.readUShort(),this.resource.data=this},t.prototype.export=function(){var t,e,r,i,n;for(t={},n=["h_res","h_res_unit","width_unit","v_res","v_res_unit","height_unit"],e=0,i=n.length;e<i;e++)r=n[e],t[r]=this[r];return t},t}()},{}],67:[function(t,e,r){e.exports={pad2:function(t){return t+1&-2},pad4:function(t){return(t+4&-4)-1},getUnicodeCharacter:function(t){var e,r;return t>=0&&t<=55295||t>=57344&&t<=65535?String.fromCharCode(t):t>=65536&&t<=1114111?(t-=65536,e=55296+((1047552&t)>>10),r=56320+(1023&t),String.fromCharCode(e)+String.fromCharCode(r)):void 0},clamp:function(t,e,r){return Math.min(Math.max(t,e),r)}}},{}],psd:[function(t,e,r){var i,n,o,s,a,h,f,l,c=function(t,e){function r(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u={}.hasOwnProperty;f=t("rsvp"),h=t("coffeescript-module").Module,i=t("./psd/file.coffee"),a=t("./psd/lazy_execute.coffee"),n=t("./psd/header.coffee"),l=t("./psd/resources.coffee"),s=t("./psd/layer_mask.coffee"),o=t("./psd/image.coffee"),e.exports=function(e){function r(t){this.file=new i(t),this.parsed=!1,this.header=null,Object.defineProperty(this,"layers",{get:function(){return this.layerMask.layers}}),f.on("error",function(t){return console.error(t)})}return c(r,e),r.Node={Root:t("./psd/nodes/root.coffee")},r.extends(t("./psd/init.coffee")),r.prototype.parse=function(){if(!this.parsed)return this.parseHeader(),this.parseResources(),this.parseLayerMask(),this.parseImage(),this.parsed=!0},r.prototype.parseHeader=function(){return this.header=new n(this.file),this.header.parse()},r.prototype.parseResources=function(){var t;return t=new l(this.file),this.resources=new a(t,this.file).now("skip").later("parse").get()},r.prototype.parseLayerMask=function(){var t;return t=new s(this.file,this.header),this.layerMask=new a(t,this.file).now("skip").later("parse").get()},r.prototype.parseImage=function(){var t;return t=new o(this.file,this.header),this.image=new a(t,this.file).later("parse").ignore("width","height").get()},r.prototype.tree=function(){return new r.Node.Root(this)},r}(h)},{"./psd/file.coffee":5,"./psd/header.coffee":6,"./psd/image.coffee":7,"./psd/init.coffee":19,"./psd/layer_mask.coffee":50,"./psd/lazy_execute.coffee":51,"./psd/nodes/root.coffee":58,"./psd/resources.coffee":63,"coffeescript-module":void 0,rsvp:void 0}]},{},[])("psd")});
//# sourceMappingURL=psd.node.js.map